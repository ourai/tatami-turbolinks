{"version":3,"file":"tatami-rails-adaptor.min.js","sources":["tatami-rails-adaptor.js"],"names":["addHandlers","currentPage","currentPageFlag","deleteHandler","execution","handlerArgs","handlerExists","handlerName","pageHandlers","pageViaAJAX","pushSeq","runAllHandlers","runFlowHandlers","runHandlers","runPageHandlers","sequence","toNS","turbolinksEnabled","_T","_ref","_ref1","Tatami","isPlainObject","adaptor","rails","__class__","Storage","this","Turbolinks","supported","mixin","turbolinks","enabled","handlers","storage","loaded","method","onload","scripts","Node","prototype","insertBefore","setAttribute","node","tagName","toLowerCase","data","async","apply","arguments","str","replace","func","id","toString","length","host","page","name","exists","handler","get","hasProp","equal","type","seq","namespace","push","error","_error","filter","args","once","isBoolean","isString","isPlain","each","flag","idx","execOnce","set","callback","_ref2","pages","$","size","is","convert","extend","stack","isObj","result","document","body","unshift","isArray","inArray","validator","value","prepare","ready","init","runSandbox","on","page:fetch","destroySystemDialogs","page:load","call"],"mappings":"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"}