{"version":3,"file":"tatami-rails-adaptor.min.js","sources":["tatami-rails-adaptor.js"],"names":["addHandlers","currentPage","currentPageFlag","deleteHandler","execution","handlerExists","handlerName","pageHandlers","pageViaAJAX","pushSeq","runAllHandlers","runFlowHandlers","runHandlers","runPageHandlers","sequence","toNS","turbolinksEnabled","_T","_ref","_ref1","Tatami","isPlainObject","adaptor","rails","__class__","Storage","this","Turbolinks","supported","mixin","turbolinks","enabled","handlers","storage","loaded","method","onload","scripts","Node","prototype","insertBefore","setAttribute","apply","node","tagName","toLowerCase","data","async","arguments","str","replace","func","id","toString","length","host","page","name","exists","handler","get","hasProp","equal","type","seq","namespace","push","error","_error","filter","once","isPlain","each","_this","flag","idx","execOnce","set","callback","_ref2","pages","$","size","is","convert","extend","stack","args","isObj","result","isString","document","body","unshift","isArray","inArray","validator","value","prepare","ready","call","init","runSandbox","on","page:fetch","destroySystemDialogs","page:load"],"mappings":"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"}