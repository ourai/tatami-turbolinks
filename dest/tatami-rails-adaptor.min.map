{"version":3,"file":"tatami-rails-adaptor.min.js","sources":["tatami-rails-adaptor.js"],"names":["addHandlers","counter","currentPage","currentPageFlag","deleteHandler","handlerArgs","handlerExists","handlerName","pageHandlers","pageViaAJAX","pushSeq","runAllHandlers","runFlowHandlers","runHandlers","runPageHandlers","sequence","toNS","turbolinksEnabled","_T","_ref","_ref1","Tatami","isPlainObject","adaptor","rails","__class__","Storage","this","Turbolinks","supported","mixin","turbolinks","enabled","handlers","storage","loaded","method","onload","scripts","Node","prototype","insertBefore","setAttribute","node","tagName","toLowerCase","data","async","apply","arguments","str","replace","host","page","func","name","exists","get","each","h","hasProp","id","equal","key","_ref2","toString","length","namespace","type","seq","push","error","part","split","_error","filter","args","once","isBoolean","isString","isPlain","flag","idx","execOnce","set","callback","handler","pages","$","size","is","convert","extend","stack","isObj","result","document","body","unshift","isArray","inArray","validator","value","prepare","ready","init","runSandbox","on","page:fetch","destroySystemDialogs","page:load","call"],"mappings":"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"}