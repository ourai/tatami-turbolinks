{"version":3,"file":"tatami-rails-adaptor.min.js","sources":["tatami-rails-adaptor.js"],"names":["addHandlers","currentPage","currentPageFlag","deleteHandler","execution","handlerExists","handlerName","pageHandlers","pageViaAJAX","pushSeq","runAllHandlers","runFlowHandlers","runHandlers","runPageHandlers","sequence","toNS","turbolinksEnabled","_T","_ref","_ref1","Tatami","isPlainObject","adaptor","rails","__class__","Storage","this","Turbolinks","supported","mixin","turbolinks","enabled","handlers","storage","loaded","method","onload","scripts","Node","prototype","insertBefore","setAttribute","apply","node","tagName","toLowerCase","data","async","arguments","str","replace","func","toString","length","host","page","name","equal","get","type","seq","namespace","push","error","_error","once","isPlain","each","_this","flag","idx","execOnce","set","callback","_ref2","handler","pages","$","size","is","convert","extend","stack","args","isObj","result","isString","document","body","unshift","isArray","inArray","validator","value","hasProp","prepare","ready","call","init","runSandbox","on","page:fetch","page:load"],"mappings":"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"}