{"version":3,"file":"tatami-rails-adaptor.min.js","sources":["tatami-rails-adaptor.js"],"names":["$doc","adaptor","addHandlers","changeable","currentPage","currentPageFlag","execution","handlerExists","handlerName","handlerStatus","pageHandlers","pushSeq","runAllHandlers","runFlowHandlers","runHandlers","runPageHandlers","sequence","toNS","turbolinksEnabled","_T","_ref","_ref1","Tatami","isPlainObject","rails","__class__","Storage","this","Turbolinks","supported","mixin","turbolinks","enabled","handlers","storage","loaded","method","onload","scripts","Node","prototype","insertBefore","setAttribute","console","log","src","apply","node","tagName","toLowerCase","data","async","arguments","str","replace","func","toString","length","host","page","name","equal","get","type","seq","namespace","push","exec","isPlain","each","_this","flag","idx","set","callback","statuses","_ref2","pages","$","size","is","convert","extend","handler","stack","args","isObj","result","isString","document","body","unshift","isArray","inArray","validator","value","hasProp","prepare","call","ready","isReady","use","load","fetch","expire","off","on","onLoad","onFetch","onExpire","addCallback","trigger","register","fn","init","runSandbox"],"mappings":"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"}