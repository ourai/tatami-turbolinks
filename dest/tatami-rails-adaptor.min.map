{"version":3,"file":"tatami-rails-adaptor.min.js","sources":["tatami-rails-adaptor.js"],"names":["addHandlers","currentPage","currentPageFlag","execution","handlerExists","handlerName","pageHandlers","pushSeq","runAllHandlers","runFlowHandlers","runHandlers","runPageHandlers","sequence","toNS","turbolinksEnabled","_T","_ref","_ref1","Tatami","isPlainObject","adaptor","rails","__class__","Storage","this","Turbolinks","supported","mixin","turbolinks","enabled","handlers","storage","loaded","method","onload","scripts","Node","prototype","insertBefore","setAttribute","console","log","src","apply","node","tagName","toLowerCase","data","async","arguments","str","replace","func","toString","length","host","page","name","equal","get","type","seq","namespace","push","isPlain","each","_this","flag","idx","set","callback","_ref2","pages","$","size","is","convert","extend","handler","stack","args","isObj","result","isString","document","body","unshift","isArray","inArray","validator","value","hasProp","prepare","call","ready","init","runSandbox"],"mappings":"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"}