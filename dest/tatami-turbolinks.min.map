{"version":3,"file":"tatami-turbolinks.min.js","sources":["tatami-turbolinks.js"],"names":["addHandlers","counter","currentPage","currentPageFlag","deleteHandler","getCachedData","getDataCache","handlerArgs","handlerExists","handlerName","pageHandlers","pageViaAJAX","pushSeq","runAllHandlers","runFlowHandlers","runHandlers","runPageHandlers","sequence","setData","setDataCache","setStorageData","toNS","turbolinksEnabled","_T","_data","_ref","Tatami","isPlainObject","rails","__class__","Storage","this","Turbolinks","supported","mixin","turbolinks","enabled","handlers","storage","loaded","method","onload","scripts","Node","prototype","insertBefore","setAttribute","node","nodeType","tagName","toLowerCase","data","async","apply","arguments","str","replace","host","page","func","name","exists","get","each","h","hasProp","id","equal","key","_ref1","toString","length","namespace","type","seq","push","error","part","split","_error","filter","args","once","isBoolean","isString","isPlain","flag","idx","execOnce","set","callback","handler","pages","$","size","is","convert","extend","stack","isObj","result","document","body","unshift","isArray","inArray","validator","value","funcName","slice","isFunction","functionExists","run","_this","ready","__meta__","ns_str","parts","rv","cache","n","i","target","condition","prepare","test","setCachedData","init","runSandbox","on","page:fetch","destroySystemDialogs","page:load","call"],"mappings":"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"}