/*!
 * Tatami-rails-adaptor v0.1.0
 * 
 *
 * Copyright 2013, 2014 Ourairyu, http://ourai.ws/
 *
 * Date: 2014-07-29
 */

(function(){var a,b,c,d,e,f;f=this.Turbolinks&&this.Turbolinks.supported===!0,d=new Tatami.__class__.Storage("pageHandlers"),c=function(a){return a.toString().length.toString(16)+""},b=function(a,b){return this.equal(b,d.get(""+a+"."+c(b)))},a=function(a,e,f){var g;return g={},this.each(a,function(a){return function(d,h){var i;return f&&(e=d,d=h),b.apply(a,[d,e])?void 0:(i=c(e),a.namespace(g,""+d+"."+i),g[d][i]=e)}}(this)),d.set(g)},e=function(a,b,c){return this.each(a,function(a,d){return c&&(b=a,a=d),$("body").is("[data-page='"+a+"']")?(b(),!1):void 0})},Tatami.extend({handlers:[{name:"inPage",handler:function(b,c){var d,g,h;return g=this.isPlainObject(b),1!==arguments.length||g?(this.isString(b)&&(b=[b]),d=[b,c,g],f?a.apply(this,d):e.apply(this,d)):(this.isArray(b)||(b=[b]),h=this.inArray($("body").data("page"),b)>-1)},validator:function(a){return this.isString(a)||this.isArray(a)||this.isPlainObject(a)},value:!1}]}),f&&Tatami.init({runSandbox:function(a,b){return $(document).on({"page:change":function(b){return function(){return b.each(d.storage[$("body").data("page")],function(a){return a()}),b.run(a)}}(this),"page:load":function(a){return function(){return a.run(b)}}(this),"page:restore":function(a){return function(){return console.log("restore"),a.run(b)}}(this)})}})}).call(this);
//# sourceMappingURL=tatami-rails-adaptor.min.map